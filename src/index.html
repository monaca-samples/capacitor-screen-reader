<!doctype html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="UTF-8" />
        <title>Awesome Capacitor App</title>
        <meta
            name="viewport"
            content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />

        <script
            type="module"
            src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.esm.js"
        ></script>
        <script
            nomodule
            src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.js"
        ></script>

        <link rel="icon" type="image/x-icon" href="./assets/icon/favicon.ico" />
        <link rel="manifest" href="./manifest.json" />
        <link rel="stylesheet" href="./css/style.css" />
        <meta name="theme-color" content="#31d53d" />
        <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
        <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
    </head>
    <body>
        <ion-content class="ion-padding">
            <ion-textarea 
            id="text-to-read"
            helper-text="Enter text for reading aloud"
            label="Text to Read" label-placement="floating" counter="true" maxlength="100"></ion-textarea>
           <ion-select id="language-select" placeholder="Select Language" value="ja-JP">
                <ion-select-option value="en-US">English</ion-select-option>
                <ion-select-option value="ja-JP">日本語</ion-select-option>
            </ion-select>
            <div style="text-align: right; margin-top: 15px;">
                <ion-button id="read-button">Start Reading</ion-button>
            </div>
        </ion-content>
        
        <script type="module">
            import { ScreenReader } from '@capacitor/screen-reader';

            document.getElementById('read-button').addEventListener('click', async () => {
                const text = document.getElementById('text-to-read').value; // 入力されたテキストを取得
                const language = document.getElementById('language-select').value; // 選択された言語を取得

                if (text) {
                    await ScreenReader.speak({
                        value: text,
                        language: language
                    });
                }
            });
        </script>
    </body>
</html>
